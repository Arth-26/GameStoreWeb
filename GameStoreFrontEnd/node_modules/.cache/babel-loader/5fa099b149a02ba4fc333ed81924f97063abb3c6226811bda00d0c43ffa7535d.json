{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '...';\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Update Game\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"card\",\n  style: {\n    \"width\": \"18rem\"\n  }\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  class: \"card-img-top\",\n  alt: \"...\"\n}, null, -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"card-body\"\n};\nconst _hoisted_5 = {\n  class: \"card-title\"\n};\nconst _hoisted_6 = {\n  class: \"card-text\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"mt-2\"\n}, \"Game Registration\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  class: \"form-group\"\n};\nconst _hoisted_9 = {\n  class: \"form-group\"\n};\nconst _hoisted_10 = {\n  class: \"form-group\"\n};\nconst _hoisted_11 = {\n  class: \"form-group\"\n};\nconst _hoisted_12 = {\n  class: \"form-group\"\n};\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"mt-3 mb-3\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"btn btn-primary\"\n}, \"Save\")], -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h5\", _hoisted_5, _toDisplayString($data.game.name), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($data.game.categoria), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Preço: \" + _toDisplayString($data.game.preco), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_6, _toDisplayString($data.game.description), 1 /* TEXT */)])])]), _createElementVNode(\"div\", null, [_createElementVNode(\"form\", {\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => _ctx.updatedGame && _ctx.updatedGame(...args), [\"prevent\"])),\n    class: \"m-5\"\n  }, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"nome\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.nome = $event),\n    class: \"form-control\",\n    placeholder: \"Game name\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.nome]])]), _createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"categoria\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.categoria = $event),\n    class: \"form-control\",\n    placeholder: \"Game category\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.categoria]])]), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"preco\",\n    type: \"number\",\n    step: \".01\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.preco = $event),\n    class: \"form-control\",\n    placeholder: \"0.0\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.preco]])]), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"data_de_lancamento\",\n    type: \"date\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.data_de_lancamento = $event),\n    class: \"form-control\",\n    placeholder: \"Release Date\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.data_de_lancamento]])]), _createElementVNode(\"div\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"description\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.description = $event),\n    class: \"form-control\",\n    placeholder: \"Game description\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.description]])]), _hoisted_13], 32 /* NEED_HYDRATION */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_imports_0","_createElementVNode","class","style","src","alt","type","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","$data","game","name","categoria","preco","_hoisted_6","description","onSubmit","_cache","_withModifiers","args","_ctx","updatedGame","_hoisted_7","_hoisted_8","id","nome","$event","placeholder","_hoisted_9","_hoisted_10","step","_hoisted_11","data_de_lancamento","_hoisted_12","_hoisted_13"],"sources":["C:\\Users\\Arthur\\gamestore\\src\\components\\UpdateGame.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h2>Update Game</h2>\r\n        <div class=\"card\" style=\"width: 18rem;\">\r\n            <img src=\"...\" class=\"card-img-top\" alt=\"...\">\r\n            <div class=\"card-body\">\r\n                <h5 class=\"card-title\">{{ game.name }}</h5>\r\n                <p>{{ game.categoria }}</p>\r\n                <p>Preço: {{ game.preco }}</p>\r\n                <p class=\"card-text\">{{ game.description }}</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div>\r\n        <form @submit.prevent=\"updatedGame\" class=\"m-5\">\r\n            <h2 class=\"mt-2\">Game Registration</h2>\r\n            <div class=\"form-group\">\r\n                <input id=\"nome\" type=\"text\" v-model=\"nome\" class=\"form-control\" placeholder=\"Game name\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <input id=\"categoria\" type=\"text\" v-model=\"categoria\" class=\"form-control\"\r\n                    placeholder=\"Game category\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <input id=\"preco\" type=\"number\" step=\".01\" v-model=\"preco\" class=\"form-control\" placeholder=\"0.0\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <input id=\"data_de_lancamento\" type=\"date\" v-model=\"data_de_lancamento\" class=\"form-control\"\r\n                    placeholder=\"Release Date\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <input id=\"description\" type=\"text\" v-model=\"description\" class=\"form-control\"\r\n                    placeholder=\"Game description\">\r\n            </div>\r\n            <div class=\"mt-3 mb-3\">\r\n                <button type=\"submit\" class=\"btn btn-primary\">Save</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '../router'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            game: null,\r\n        }\r\n    },\r\n    mounted() {\r\n        const gameId = this.$route.params.id\r\n        this.getGame(gameId)\r\n    },\r\n    methods: {\r\n        getGame(gameId) {\r\n\r\n            fetch(`http://localhost:8080/games/${gameId}`)\r\n                .then(response => {\r\n                    if (!response.ok) {\r\n                        throw new Error(`HTTP error! Status: ${response.status}`);\r\n                    }\r\n                    return response.json();\r\n                })\r\n                .then(data => {\r\n\r\n                    this.game = {\r\n                        id: data.id,\r\n                        nome: data.nome,\r\n                        categoria: data.categoria,\r\n                        preco: data.preco,\r\n                        data_de_lancamento: data.data_de_lancamento,\r\n                        description: data.description,\r\n                    };\r\n                })\r\n                .catch(error => {\r\n                    console.error(error);\r\n                });\r\n        },\r\n        async updateGame() {\r\n            try {\r\n                const index = this.result.findIndex(game => game.id === gameId);\r\n                if (index !== -1) {\r\n                    this.result[index] = {\r\n                        ...this.result[index],\r\n                        nome: this.nome,\r\n                        categoria: this.categoria,\r\n                        preco: this.preco,\r\n                        data_de_lancamento: this.data_de_lancamento,\r\n                        description: this.description\r\n                    };\r\n                }\r\n                const response = await fetch(`http://localhost:8080/games/${gameId}`, {\r\n                    method: 'PATCH',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        nome: this.nome,\r\n                        categoria: this.categoria,\r\n                        preco: this.preco,\r\n                        data_de_lancamento: this.data_de_lancamento,\r\n                        description: this.description\r\n                    })\r\n                });   \r\n                if (!response.ok) {\r\n                    throw new Error(`HTTP error! Status: ${response.status}`);\r\n                }\r\n                alert('Game updated!');    \r\n                router.push('/games');\r\n            } catch (error) {         \r\n                alert('Error updating game!');\r\n                console.error(error);\r\n            }\r\n        },\r\n    }\r\n}\r\n\r\n</script>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}