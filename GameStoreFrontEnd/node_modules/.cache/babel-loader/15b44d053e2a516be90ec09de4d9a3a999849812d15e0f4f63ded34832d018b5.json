{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'Product',\n  data() {\n    return {\n      result: [],\n      categories: [],\n      selectedCategory: null,\n      product: {\n        id: '',\n        name: '',\n        description: '',\n        price: '',\n        category: null\n      }\n    };\n  },\n  created() {\n    axios.interceptors.request.use(config => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        config.headers.Authorization = token;\n      }\n      return config;\n    }, error => {\n      return Promise.reject(error);\n    });\n  },\n  mounted() {\n    this.getCategoryList();\n    this.getProductList();\n  },\n  methods: {\n    getProductList() {\n      axios.get('http://localhost:8080/api/products').then(({\n        data\n      }) => {\n        this.result = data;\n        this.originalList = data.map(p => ({\n          ...p\n        }));\n      }).catch(error => {\n        alert('Error loading products!');\n        console.log(error);\n      });\n    },\n    async getCategoryList() {\n      axios.get('http://localhost:8080/api/categories').then(({\n        data\n      }) => {\n        this.result = data;\n        this.categories = data.map(p => ({\n          ...p\n        }));\n      }).catch(error => {\n        alert('Error loading categories!');\n        console.log(error);\n      });\n    },\n    deleteProduct(product) {\n      const confirmed = confirm('Are you sure you want to delete this product?');\n      if (confirmed) {\n        axios.delete(`http://localhost:8080/api/products/soft-delete/${product.id}`).then(({\n          data\n        }) => {\n          alert('Product deleted successfully!');\n          this.getProductList();\n        }).catch(error => {\n          alert('Error deleting product!');\n          console.log(error);\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","result","categories","selectedCategory","product","id","description","price","category","created","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","mounted","getCategoryList","getProductList","methods","get","then","originalList","map","p","catch","alert","console","log","deleteProduct","confirmed","confirm","delete"],"sources":["C:\\Users\\Arthur\\gamestore\\src\\components\\GameList.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h2>Game View <button type=\"button\" class=\"btn btn-primary\"><router-link :to=\"{ name: 'GameDetail', params: { id: null } }\" tag=\"div\">New</router-link></button></h2>\r\n      <table class=\"table table-dark\">\r\n        <thead>\r\n          <tr>  \r\n            <th scope=\"col\">Name</th>\r\n            <th scope=\"col\">Price</th>\r\n            <th scope=\"col\">Data De Lan√ßamento</th>\r\n            <th scope=\"col\">Category</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"game in result\" v-bind:key=\"game.id\">\r\n  \r\n            <td>{{ game.id }}</td>\r\n            <td>{{ game.name }}</td>\r\n            <td>{{ game.description }}</td>\r\n            <td>{{ game.price }}</td>\r\n            <td>{{ game.category.name }}</td>\r\n            <td>\r\n              <button type=\"button\" class=\"btn btn-warning\"><router-link :to=\"{ name: 'gameDetail', params: { id: game.id } }\" tag=\"div\">Edit</router-link></button>\r\n              <button type=\"button\" class=\"btn btn-danger\" placeholder=\"Delete\" @click=\"deletegame(game)\"></button>\r\n            </td>\r\n          </tr>\r\n  \r\n        </tbody>\r\n      </table>\r\n  \r\n    </div>\r\n  </template>\r\n\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'Product',\r\n  data () {\r\n    return {\r\n      result: [],\r\n\r\n      categories: [],\r\n      selectedCategory: null,\r\n\r\n      product: {\r\n        id: '',\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        category: null\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    axios.interceptors.request.use(\r\n      config => {\r\n        const token = localStorage.getItem('token')\r\n        if (token) {\r\n          config.headers.Authorization = token\r\n        }\r\n        return config\r\n      },\r\n      error => {\r\n        return Promise.reject(error)\r\n      }\r\n    )\r\n  },\r\n  mounted () {\r\n    this.getCategoryList()\r\n    this.getProductList()\r\n  },\r\n  methods: {\r\n    getProductList () {\r\n      axios.get('http://localhost:8080/api/products')\r\n        .then(({ data }) => {\r\n          this.result = data\r\n          this.originalList = data.map(p => ({ ...p }))\r\n        })\r\n        .catch((error) => {\r\n          alert('Error loading products!')\r\n          console.log(error)\r\n        })\r\n    },\r\n    async getCategoryList () {\r\n      axios.get('http://localhost:8080/api/categories')\r\n        .then(({ data }) => {\r\n          this.result = data\r\n          this.categories = data.map(p => ({ ...p }))\r\n        })\r\n        .catch((error) => {\r\n          alert('Error loading categories!')\r\n          console.log(error)\r\n        })\r\n    },\r\n    deleteProduct (product) {\r\n      const confirmed = confirm('Are you sure you want to delete this product?')\r\n      if (confirmed) {\r\n        axios\r\n          .delete(`http://localhost:8080/api/products/soft-delete/${product.id}`)\r\n          .then(({ data }) => {\r\n            alert('Product deleted successfully!')\r\n            this.getProductList()\r\n          })\r\n          .catch((error) => {\r\n            alert('Error deleting product!')\r\n            console.log(error)\r\n          })\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n</script>"],"mappings":"AAkCA,OAAOA,KAAI,MAAO,OAAM;AAExB,eAAe;EACbC,IAAI,EAAE,SAAS;EACfC,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,MAAM,EAAE,EAAE;MAEVC,UAAU,EAAE,EAAE;MACdC,gBAAgB,EAAE,IAAI;MAEtBC,OAAO,EAAE;QACPC,EAAE,EAAE,EAAE;QACNN,IAAI,EAAE,EAAE;QACRO,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACZ;IACF;EACF,CAAC;EACDC,OAAMA,CAAA,EAAK;IACTX,KAAK,CAACY,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5BC,MAAK,IAAK;MACR,MAAMC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,OAAO;MAC1C,IAAIF,KAAK,EAAE;QACTD,MAAM,CAACI,OAAO,CAACC,aAAY,GAAIJ,KAAI;MACrC;MACA,OAAOD,MAAK;IACd,CAAC,EACDM,KAAI,IAAK;MACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK;IAC7B,CACF;EACF,CAAC;EACDG,OAAMA,CAAA,EAAK;IACT,IAAI,CAACC,eAAe,CAAC;IACrB,IAAI,CAACC,cAAc,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACPD,cAAaA,CAAA,EAAK;MAChB1B,KAAK,CAAC4B,GAAG,CAAC,oCAAoC,EAC3CC,IAAI,CAAC,CAAC;QAAE3B;MAAK,CAAC,KAAK;QAClB,IAAI,CAACC,MAAK,GAAID,IAAG;QACjB,IAAI,CAAC4B,YAAW,GAAI5B,IAAI,CAAC6B,GAAG,CAACC,CAAA,KAAM;UAAE,GAAGA;QAAE,CAAC,CAAC;MAC9C,CAAC,EACAC,KAAK,CAAEZ,KAAK,IAAK;QAChBa,KAAK,CAAC,yBAAyB;QAC/BC,OAAO,CAACC,GAAG,CAACf,KAAK;MACnB,CAAC;IACL,CAAC;IACD,MAAMI,eAAcA,CAAA,EAAK;MACvBzB,KAAK,CAAC4B,GAAG,CAAC,sCAAsC,EAC7CC,IAAI,CAAC,CAAC;QAAE3B;MAAK,CAAC,KAAK;QAClB,IAAI,CAACC,MAAK,GAAID,IAAG;QACjB,IAAI,CAACE,UAAS,GAAIF,IAAI,CAAC6B,GAAG,CAACC,CAAA,KAAM;UAAE,GAAGA;QAAE,CAAC,CAAC;MAC5C,CAAC,EACAC,KAAK,CAAEZ,KAAK,IAAK;QAChBa,KAAK,CAAC,2BAA2B;QACjCC,OAAO,CAACC,GAAG,CAACf,KAAK;MACnB,CAAC;IACL,CAAC;IACDgB,aAAYA,CAAG/B,OAAO,EAAE;MACtB,MAAMgC,SAAQ,GAAIC,OAAO,CAAC,+CAA+C;MACzE,IAAID,SAAS,EAAE;QACbtC,KAAI,CACDwC,MAAM,CAAE,kDAAiDlC,OAAO,CAACC,EAAG,EAAC,EACrEsB,IAAI,CAAC,CAAC;UAAE3B;QAAK,CAAC,KAAK;UAClBgC,KAAK,CAAC,+BAA+B;UACrC,IAAI,CAACR,cAAc,CAAC;QACtB,CAAC,EACAO,KAAK,CAAEZ,KAAK,IAAK;UAChBa,KAAK,CAAC,yBAAyB;UAC/BC,OAAO,CAACC,GAAG,CAACf,KAAK;QACnB,CAAC;MACL;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}